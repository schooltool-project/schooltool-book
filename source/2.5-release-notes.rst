:tocdepth: 2

SchoolTool 2.5 Release Notes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Long-running tasks
==================

Some tasks take more than a few seconds to complete, especially in bigger
schools. Users were not able to use the application while reports were being
generated. Downloads were timing out in as little as 10 seconds. Such tasks
should be done asynchronously to allow users do something else, or wait for them
to be completed if they wish so.

``Celery`` is an asynchronous task queue that executes long running tasks.
SchoolTool and its plugins now use it to do the following tasks in background:

- PDF reports
- XLS export
- XLS import (disabled)
- Multiple reports in a ZIP archive 

Messages are sent when a task is completed. They are available from the Home
page. A notification with the number of new messages is displayed near the
person's name in the top right of the page.


Server
======

There are now 4 processes, controlled by a ``supervisor`` daemon:

  + ``schooltool``    - schooltool web application
  + ``zeo``           - ``ZEO`` server allows many clients to use the same ``ZODB`` storage
  + ``celery_report`` - a ``celery`` task queue that generates reports
  + ``redis``         - a simple key-value database for ``celery``

New ``make`` targets:

  + start       - start all processes as daemons
  + stop        - stop all processes
  + restart     - restart ``schooltool`` and ``celery`` processes
  + rerun       - stop ``schooltool`` and run again in the foreground. restarts ``celery``
  + status      - status of all processes

``Redis`` server is written in C and needs to be installed separately. On Ubuntu
or Debian::

    $ sudo apt-get install redis-server

Instances have to be updated to run this version. If you run from a sandbox::

    $ bin/make-schooltool-instance instance

Ubuntu package ``schooltool`` contains updated configuration files. If they have
been modified, you may be asked how to handle the conflicts. So it is
recommended to upgrade it in the terminal::

    $ sudo apt-get update
    $ sudo apt-get install schooltool

Answer ``Y`` (install package maintainer's version) to all questions to get
the new files. A backup of modified files is made with a suffix ``.dpkg-old``,
compare them and make the same changes in the new files::

    $ cd /etc/schooltool/standard
    $ diff -u paste.ini.dpkg-old paste.ini 


Ubuntu
======

SchoolTool 2.5 is available for

- 13.10 (saucy) from the universe_
- 13.04 (raring) from the dev_ PPA
- 12.04 (precise) from the dev_ PPA

Additionally, there are daily builds from ``trunk`` branches of actively developed
projects in the trunk_ PPA.


New features
============

- Background XLS export
- Background report generation
- Message about finished background tasks, with download links
- The rest of reports converted to the new style
- SVG-based filtered/chart reports
- Differentiate permissions of administrators, clerks, and managers
- Read-only views for gradebook and parts of the school


2.5.3 (2013-09-17)
==================

Saucy Beta 2


SchoolTool 2.5.3 (2013-09-17)
-----------------------------

Bugfixes
++++++++

- Fix integer demographic fields handling in importer (https://launchpad.net/bugs/1211613)
- Add Activate school year link in School tab under Customize (https://launchpad.net/bugs/1216992 )
- Fix links and Done buttons inside School tab when a different school year is selected
- Add manager to Site Managers and Clerks groups (https://launchpad.net/bugs/1216915)
- Access setting: allow instructor to add students to their section (https://launchpad.net/bugs/637759)
- Access setting: allow instructor to modify section
- Display contact information of a person in profile.
- Updated translations

Internals
+++++++++

- Add ability to disable views in customized packages (https://launchpad.net/bugs/716346)


SchoolTool Gradebook 2.5.3 (2013-09-13)
---------------------------------------

- Fix report sheet links when a different school year is selected
- Updated translations


SchoolTool Journal 2.5.3 (2013-09-13)
-------------------------------------

- Fix Journal tab clerk attendance view (https://launchpad.net/bugs/1216942)
- Spell 'score systems' as two words.
- Update Dutch translation.


SchoolTool CanDo 0.8.2 (2013-09-14)
-----------------------------------

- Add a view to batch-deprecate skills, skill sets and nodes.
- Added field to node search table to filter by common text
- Fixed Save button in deprecate skills view when there's only one result
- Changed wording and functionality of Visible/Active/Retired to Deprecated
- Changed wording attribute to field in batch assign view
- Fixed score student view for projects


SchoolTool Virginia 0.8.2 (2013-09-14)
--------------------------------------

- Fix access to report with newer schooltool.


2.5.2 (2013-08-23)
==================

Saucy Beta

- Fix access to parts of the school for clerks, managers and administrators.
- Update GPL license and file headers from gnu.org (https://launchpad.net/bugs/1211145)


SchoolTool 2.5.2 (2013-08-23)
-----------------------------

- Autocompletion in gradebook for discrete score systems.
- TAB key in gradebook moves to the next cell.
- Further updates to permissions.
- Clerks and administrators now have appropriate access to parts of the School.
- Fix failures when creating timetables with rotating periods and weekly time slots (https://launchpad.net/bugs/1214131)
- Updated translations


SchoolTool Journal 2.5.2 (2013-08-23)
-------------------------------------

- Fix student's journal tab and view.
- Used jQuery UI autocomplete widget for discrete score systems
- Update Portuguese translation.


SchoolTool Gradebook 2.5.2 (2013-08-23)
---------------------------------------

- Read-only gradebook and term reports access for clerks and administrators
- Used jQuery UI autocomplete widget for discrete score systems
- Updated Portuguese translation


SchoolTool Intervention 2.5.2 (2013-08-25)
------------------------------------------

- Added Portuguese and Sinhalese translations


SchoolTool CanDo 0.8.1 (2013-08-23)
-----------------------------------

- Nodes and skill sets can now be deprecated.
- Allow clerks and managers to access skills and reports.


SchoolTool Virginia 0.8.1 (2013-08-23)
--------------------------------------

- Clerk, manager and administrator access to reports
- Added option for setting a year suffix for document ID and title


SchoolTool Devtools 0.8.0 (2013-08-23)
--------------------------------------

- Add ``debugdb``, an interactive database debug tool.


2.5.1 (2013-08-02)
==================

Saucy alpha

SchoolTool Journal 2.5.1 (2013-08-02)
-------------------------------------

- Split journal into three modes: attendance, scores, and homeroom.
- Schoolwide attendance view
- Homeroom attendance grades overlayed in journal attendance gradebook (where available)
- Rewrite journal storage based on score systems.
- Customizable journal score systems
- Excused status, enter ``ae`` or ``te`` in the journal.
- Score history
- Only clerks and instructors can edit journals by default.


SchoolTool 2.5.1 (2013-08-01)
-----------------------------

- Differentiate permissions of administrators, clerks, and managers.
- Scripts and styles for the new attendance features.
- Updated translations


SchoolTool Gradebook 2.5.1 (2013-08-01)
---------------------------------------

- Changes to scores systems, needed for the new attendance features.


SchoolTool Intervention 2.5.1 (2013-08-02)
------------------------------------------

- Update permissions for administrative groups


SchoolTool 2.5.0 (2013-06-03)
-----------------------------

Reports
+++++++

- Background XLS import (disabled)
- Background XLS export
- Background report generation
- Multiple reports in a .zip archive
- Messages about finished background tasks
- Added resource library for filtered/chart reports
- Removed Person XML reports


SchoolTool Gradebook 2.5.0 (2013-07-03)
---------------------------------------

- Background PDF reports
- Background XLS export
- Removed one hundred total constraint on category weights


SchoolTool Journal 2.5.0 (2013-07-03)
-------------------------------------

- Background XLS export


SchoolTool CanDo 0.8.0 (2013-08-01)
-----------------------------------

- Background PDF reports
- Moved in Per Student Skills Report and Skills Completion Report from schooltool.virginia
- Added Student skill completion (by section) pdf archive report.


SchoolTool Virginia 0.8.0 (2013-08-01)
--------------------------------------

- Background completion reports
- Fixed sorting of completion reports
- Moved out Per Student Skills Report and Skills Completion Report
- Added section report links


New plugins
===========

SchoolTool Quiz
---------------

Jeff Elkner has been funding (personally!) Douglas Cerna to create a system
attached to CanDo that allows teachers to create online quizzes for their
students.  Individual questions can be tagged with skills in CanDo to
automatically update a student's skill rating in the gradebook based on quiz
results.

https://launchpad.net/schooltool.quiz

.. _universe: install-2_0.html
.. _ppa: install-2_0.html#ppa
.. _dev: install-dev.html
.. _trunk: install-dev.html#daily
